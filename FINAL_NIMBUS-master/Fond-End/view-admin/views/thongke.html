<!-- Begin Page Content -->
<main class="content">
    <div class="section active">
        <div class="container-fluid">
            <!-- Page Heading -->
            <h1 class="page-title">Danh Sách Sản Phẩm</h1>
            <div class="admin-control">
                <div class="admin-control-left">
                    <select ng-model="selectedCategory" ng-change="getDoanhThuTheoDanhMuc()">
                        <option value="">Tất cả</option>
                        <option value="Áo phông">Áo phông</option>
                        <option value="Áo sơ mi">Áo sơ mi</option>
                        <option value="Áo phao">Áo phao</option>
                        <option value="Áo chống nắng">Áo chống nắng</option>
                        <option value="Quần kaki">Quần kaki</option>
                        <option value="Quần sort & jean">Quần sort & jean</option>
                    </select>
                </div>
                
                
                <div class="admin-control-center">
                    <form action="" class="form-search">
                        <span class="search-btn"><i class="fa-light fa-magnifying-glass"></i></span>
                        <input id="form-search-tk" type="text" class="form-search-input"
                               placeholder="Tìm kiếm tên sản phẩm..." ng-model="searchTerm" ng-change="filterResults()">
                    </form>
                </div>
                <div class="admin-control-right">
                    <form action="" class="fillter-date">
                        <div>
                            <label for="time-start">Từ</label>
                            <input type="date" class="form-control-date" id="time-start-tk" onchange="angular.element(this).scope().thongKe()">
                        </div>
                        <div>
                            <label for="time-end">Đến</label>
                            <input type="date" class="form-control-date" id="time-end-tk" onchange="angular.element(this).scope().thongKe()">
                        </div>
                    </form>
                    <button class="btn-reset-order" ng-click="sortByRevenueAsc()">
                        <i class="fa-solid fa-arrow-up"></i> <!-- Biểu tượng cho sắp xếp tăng -->
                    </button>
                    <button class="btn-reset-order" ng-click="sortByRevenueDesc()">
                        <i class="fa-solid fa-arrow-down"></i> <!-- Biểu tượng cho sắp xếp giảm -->
                    </button>
                    <button class="btn-reset-order"><i class="fa-light fa-arrow-rotate-right"></i></button>
                    
                </div>
            </div>
            <div class="order-statistical" id="order-statistical">
                <div class="order-statistical-item">
                    <div class="order-statistical-item-content">
                        <p class="order-statistical-item-content-desc">Sản phẩm được bán ra</p>
                        <h4 class="order-statistical-item-content-h" id="quantity-product">{{soSanPhamBanRa}}</h4>
                    </div>
                    <div class="order-statistical-item-icon">
                        <i class="fa-light fa-tshirt"></i>
                    </div>
                </div>
                <div class="order-statistical-item">
                    <div class="order-statistical-item-content">
                        <p class="order-statistical-item-content-desc">Số lượng bán ra</p>
                        <h4 class="order-statistical-item-content-h" id="quantity-order">{{tongSoLuongBanRa}}</h4>
                    </div>
                    <div class="order-statistical-item-icon">
                        <i class="fa-light fa-file-lines"></i>
                    </div>
                </div>
                <div class="order-statistical-item">
                    <div class="order-statistical-item-content">
                        <p class="order-statistical-item-content-desc">Doanh thu</p>
                        <h4 class="order-statistical-item-content-h" id="quantity-sale">{{tongDoanhThu}}</h4>
                    </div>
                    <div class="order-statistical-item-icon">
                        <i class="fa-light fa-dollar-sign"></i>
                    </div>
                </div>
            </div>
            
            <div id="show-product">
                <div class="card shadow mb-4">
                    <div class="card-body">
                        <div class="table-responsive text-center">
                            <table class="table table-hover" width="100%">
                                <thead>
                                    <tr>
                                        <th scope="col">STT</th>
                                        <th scope="col">Tên sản phẩm</th>
                                        <th scope="col">Số lượng bán</th>
                                        <th scope="col">Doanh thu</th>
                                    </tr>
                                </thead>
                                <tbody id="show-user">
                                    <tr ng-if="filteredData.length === 0">
                                        <td colspan="5" style="text-align: center; color: red;">không dữ liệu nào được tìm thấy.</td>
                                    </tr>
                                    <tr ng-repeat="item in filteredData">
                                        <td>{{$index + 1}}</td>
                                        <td>{{item.tenSanPham}}</td>
                                        <td>{{item.soLuongDaBan}}</td>
                                        <td>{{ item.tongDoanhThu.toLocaleString('vi-VN') }} ₫</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</main>